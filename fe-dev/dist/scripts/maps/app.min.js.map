{"version":3,"sources":["app.js","helpers.js","components/search.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.min.js","sourcesContent":["/*\n * INFO:\n * \t> Main script initializer\n * \t> Change the var \"app\" to something related to the project\n * \t> Search for usage\n */\n\nlet app = {\n  //Configs + Constants\n\n  //removeIf(production)\n  debug: true,\n  debugLocalIps: ['localhost', '192.168.6.141'],\n  //endRemoveIf(production)\n\n  mobileWidth: '768',\n  loadedFonts: 0,\n  loadedImages: 0,\n  lang: document.querySelector('body').getAttribute('[data-lang]'),\n  host: window.location.hostname,\n  browser: false,\n  navigator: '',\n\n  SIZE: {\n    wW: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n    wH: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n  },\n\n  DATA: {},\n\n  COOKIES_NAMES: {\n    ACCEPT: 'acceptCookie'\n  },\n\n  exists: (el) => {\n    return ($(el).length > 0);\n  },\n\n  isMobile: () => {\n    return (app.SIZE.wW <= app.mobileWidth);\n  },\n\n  //removeIf(production)\n  debugEnvir: () => {\n    return (app.debug && app.host !== undefined && app.debugLocalIps.length > 0 && app.debugLocalIps.indexOf(app.host) > -1);\n  },\n  //endRemoveIf(production)\n\n  init: () => {\n    // GLOBAL VARS ---------------------------------------\n    $doc = document.documentElement;\n    $body = $doc.querySelector('body');\n\n    //ON RESIZE\n    let reportWindowSize = () => {\n      app.SIZE.wW = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n      app.SIZE.wH = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n      console.log('app window.onresize');\n    };\n    window.onresize = reportWindowSize;\n\n\n    // COMMON --------------------------------------------\n\n\n    // COMPONENTS ----------------------------------------\n    if ($doc.querySelector('#search-input')) {\n      app.search.init();\n    }\n\n\n        // PAGES ---------------------------------------------\n\n    }\n};\n\n(() => {\n  'use strict';\n  document.addEventListener('DOMContentLoaded', () => {\n    //removeIf(production)\n    console.warn('ATENÇÃO: Debug está ligado!');\n    console.log('-- DOCUMENT IS READY - GO GO --');\n    //endRemoveIf(production)\n\n    app.init();\n\n  });\n})();\n","app.helpers = {\n\t// COMMON --------------------------------------------\n\t// Configs + Constants\n\tTIMERS: '',\n\tDATA: '',\n\tAJAX: '',\n\n\n\t// MAIN FUNCTIONS ------------------------------------\n\tinit: () => {\n\t\tlet _this = app.helpers;\n\n\t\t_this.setupEvents();\n\t\t_this.setupLayout();\n\t},\n\n\tsetupEvents: () => {},\n\tsetupLayout: () => {},\n\n\n\n\t// OTHER FUNCTIONS -----------------------------------\n\tbrowserDetect: () => {\n\t\tlet ua = window.navigator.userAgent;\n\n\t\tlet msie = ua.indexOf('MSIE ');\n\t\tif (msie > 0) {\n\t\t\t// IE 10 or older => return version number\n\t\t\treturn parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);\n\t\t}\n\n\t\tlet trident = ua.indexOf('Trident/');\n\t\tif (trident > 0) {\n\t\t\t// IE 11 => return version number\n\t\t\tlet rv = ua.indexOf('rv:');\n\t\t\treturn parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);\n\t\t}\n\n\t\tlet edge = ua.indexOf('Edge/');\n\t\tif (edge > 0) {\n\t\t\t// Edge (IE 12+) => return version number\n\t\t\treturn parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);\n\t\t}\n\n\t\t// other browser\n\t\treturn false;\n\t},\n\n\tosDetect: () => {\n\t\tlet res = false;\n\t\tif (navigator.appVersion.indexOf(\"Win\")!==-1){res=\"Windows\";}\n\t\telse if (navigator.appVersion.indexOf(\"Mac\")!==-1){res=\"MacOS\";}\n\t\telse if (navigator.appVersion.indexOf(\"X11\")!==-1){res=\"UNIX\";}\n\t\telse if (navigator.appVersion.indexOf(\"Linux\")!==-1){res=\"Linux\";}\n\n\t\treturn res;\n\t},\n\n\tgetUrlParam: (name, url) => {\n\t\tif (!url) url = window.location.href;\n\t\tname = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n\t\tlet regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n\t\t\tresults = regex.exec(url);\n\t\tif (!results) return null;\n\t\tif (!results[2]) return '';\n\t\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n\t},\n\n\tgetRandom: (min, max, type) => {\n\t\tif(type === 'int'){\n\t\t\tmin = Math.ceil(min);\n\t\t\tmax = Math.floor(max);\n\n\t\t\treturn Math.floor(Math.random() * (max - min + 1)) + min;\n\t\t}\n\t\telse{\n\t\t\treturn Math.random() * (max - min) + min;\n\t\t}\n\t}\n};\n","app.search = {\n  // COMMON --------------------------------------------\n  // Configs + Constants\n  TIMERS: '',\n  DATA: '',\n  API_SEARCH: 'https://talkdesk-com.meza.talkdeskqa.com/wp-json/external/globalsearch?search=',\n  PAGE_SIZE: 12,\n\n\n\n  // MAIN FUNCTIONS ------------------------------------\n  init: () => {\n    console.log('=====\\nApp Search Init\\n');\n    let _this = app.search;\n\n    _this.firstPaint();\n    _this.setupLayout();\n    _this.setupEvents();\n\n  },\n\n  setupEvents: () => {\n    console.log('=====\\nApp Search === Events\\n');\n    let _this = app.search;\n\n    if (!!_this.DATA && !!_this.DATA.posts.length) {\n      let paginationTotal = _this.DATA.posts.length;\n      let totalPages = (paginationTotal - _this.PAGE_SIZE) <= 0 ? 0 : ((paginationTotal - _this.PAGE_SIZE) / _this.PAGE_SIZE).toFixed();\n\n    }\n\n    document.addEventListener('click', function (event) {\n      // If the clicked element doesn't have the right selector, bail\n      if (!event.target.matches('.pagination--item')) return;\n\n      // Don't follow the link\n      event.preventDefault();\n\n      // Log the clicked element in the console\n      console.log(event.target.getAttribute('data-page'));\n    }, false);\n  },\n\n  setupLayout: () => {\n    console.log('=====\\nApp Search === layout\\n');\n    let _this = app.search;\n\n    // Setup cards\n    const cardsTemplate = (content, idx) => {\n      return `\n        <a href=\"${content.url}\" class=\"\" target=\"_self\" title=\"${content.title}\">\n          <span class=\"card__label text-orange\">${content.category}</span>\n          <span class=\"card__label text-capitalize\">${content.date}</span>\n          <h4 class=\"card__title\">${content.title}</h4>\n          <p class=\"card__url\">${content.url.replace(/^.*:\\/\\//i, '')}</p>\n        </a>\n      `};\n\n    // Setup cards\n    if (!!_this.DATA && _this.DATA.posts.length) {\n      _this.DATA.posts.map((content, idx) => {\n        let markupHtml = cardsTemplate(content, idx);\n        let container = document.createElement('div');\n\n        container.className = 'col-12 card';\n        container.innerHTML = markupHtml;\n\n        document.getElementById('search-results--cards').append(container);\n      });\n    };\n\n    // Setup filters\n    const filtersTemplate = (content, idx) => {\n      return `\n        <a href=\"javascrip:;\" data-filters=\"${content.slug}\">${content.label}</a>\n      `\n    };\n\n    if (!!_this.DATA && _this.DATA.posts.length) {\n      _this.DATA.menu.map((content, idx) => {\n        let markupHtml = filtersTemplate(content, idx);\n        let container = document.createElement('li');\n\n        container.innerHTML = markupHtml;\n\n        document.getElementById('search-filters').append(container);\n      });\n    };\n\n  },\n\n\n  // OTHER FUNCTIONS -----------------------------------\n  firstPaint: () => {\n    console.log('=====\\nApp Search === first paint\\n');\n    let _this = app.search;\n\n    fetch(app.search.API_SEARCH)\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        throw new Error('Something went wrong');\n      })\n      .then((data) => {\n        _this.DATA = data;\n        _this.setupLayout();\n        console.log(_this.DATA);\n      })\n      .catch((error) => {\n        console.log(error)\n        _this.DATA = data;\n      });\n  }\n};\n"],"sourceRoot":"/source/"}